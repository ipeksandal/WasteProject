@page "/"

@using Microsoft.AspNetCore.Components
@inject NavigationManager NavigationManager

<div class="container">
    <header>
        <div class="left-buttons">
            <button class="login-button" @onclick="NavigateToLogin">Giriş Yap</button>
            <button class="register-button" @onclick="NavigateToRegister">Kayıt Ol</button>
        </div>
        <div class="right-button">
            <button class="profile-button" @onclick="NavigateToProfile">Profil</button>
        </div>
    </header>

    <main>
        <section class="info-cards">
            <div class="info-card card-green" @onclick="() => ToggleInfoCard(1)">
                <h3>Kağıt Geri Dönüşümü</h3>
                @if (showCard1Info)
                {
                    <p>Kağıt ürünlerin geri dönüştürülmesi, ağaç kesimini azaltır ve enerji tasarrufu sağlar.</p>
                }
            </div>
            <div class="info-card card-blue" @onclick="() => ToggleInfoCard(2)">
                <h3>Plastik Geri Dönüşümü</h3>
                @if (showCard2Info)
                {
                    <p>Plastik atıkların geri dönüştürülmesi çevre kirliliğini azaltır ve kaynak tasarrufu sağlar.</p>
                }
            </div>
            <div class="info-card card-yellow" @onclick="() => ToggleInfoCard(3)">
                <h3>Cam Geri Dönüşümü</h3>
                @if (showCard3Info)
                {
                    <p>Cam şişeler ve kavanozlar geri dönüştürülerek yeni cam ürünler elde edilir.</p>
                }
            </div>
            <div class="info-card card-orange" @onclick="() => ToggleInfoCard(4)">
                <h3>Metal Geri Dönüşümü</h3>
                @if (showCard4Info)
                {
                    <p>Metal atıkların geri dönüştürülmesi enerji tasarrufu sağlar ve çevre kirliliğini azaltır.</p>
                }
            </div>
        </section>

        <!-- Grafik bölümü -->
        <section class="stats">
            <h2>Geri Dönüşüm İstatistikleri</h2>
            <canvas id="recyclingChart"></canvas>
        </section>
    </main>
</div>

<style>
    body, html {
        margin: 0;
        padding: 0;
        width: 100%;
        height: 100%;
        font-family: Arial, sans-serif;
    }

    .container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        background: #f0f0f0; /* Arka plan rengi */
    }

    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 20px;
        background: #ffffff; /* Başlık arka plan rengi */
        box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .left-buttons {
        display: flex;
    }

    .login-button, .register-button, .profile-button {
        padding: 10px 20px;
        border: none;
        color: #fff;
        font-size: 16px;
        border-radius: 5px;
        cursor: pointer;
        margin-right: 10px;
    }

    .login-button {
        background-color: #4CAF50; /* Yeşil renk */
    }

    .register-button {
        background-color: #4CAF50; /* Yeşil renk */
    }

    .profile-button {
        background-color: #2196F3; /* Mavi renk */
    }

    .info-cards {
        display: flex;
        flex-wrap: wrap;
        justify-content: center;
        padding: 20px;
    }

    .info-card {
        width: 250px;
        padding: 20px;
        margin: 10px;
        border-radius: 10px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2);
        color: #fff;
        text-align: center;
        transition: box-shadow 0.3s ease;
        cursor: pointer; /* Mouse pointer changes to hand */
    }

    .info-card:hover {
        box-shadow: 0 0 20px 2px;
    }

    .card-green {
        background-color: #81c784; /* Soft yeşil */
    }

    .card-blue {
        background-color: #64b5f6; /* Soft mavi */
    }

    .card-yellow {
        background-color: #fdd835; /* Soft sarı */
    }

    .card-orange {
        background-color: #ffb74d; /* Soft turuncu */
    }

    .stats {
        padding: 20px;
        text-align: center;
    }

    #recyclingChart {
        max-width: 800px;
        margin: 0 auto;
    }
</style>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
    function initChart() {
        var ctx = document.getElementById('recyclingChart').getContext('2d');
        new Chart(ctx, {
            type: 'bar',
            data: {
                labels: ['Kağıt', 'Plastik', 'Cam', 'Metal'],
                datasets: [{
                    label: 'Geri Dönüşüm Miktarı (ton)',
                    data: [500, 300, 200, 100], // Örnek veriler
                    backgroundColor: [
                        '#81c784', // Soft yeşil
                        '#64b5f6', // Soft mavi
                        '#fdd835', // Soft sarı
                        '#ffb74d'  // Soft turuncu
                    ],
                    borderColor: [
                        '#4caf50', // Yeşil sınır
                        '#2196f3', // Mavi sınır
                        '#fbc02d', // Sarı sınır
                        '#fb8c00'  // Turuncu sınır
                    ],
                    borderWidth: 1
                }]
            },
            options: {
                scales: {
                    y: {
                        beginAtZero: true
                    }
                }
            }
        });
    }
    
    document.addEventListener('DOMContentLoaded', function() {
        initChart();
    });
</script>

@code {
    private bool showCard1Info;
    private bool showCard2Info;
    private bool showCard3Info;
    private bool showCard4Info;

    private void ToggleInfoCard(int cardNumber)
    {
        switch (cardNumber)
        {
            case 1:
                showCard1Info = !showCard1Info;
                break;
            case 2:
                showCard2Info = !showCard2Info;
                break;
            case 3:
                showCard3Info = !showCard3Info;
                break;
            case 4:
                showCard4Info = !showCard4Info;
                break;
        }
    }

    private void NavigateToLogin()
    {
        NavigationManager.NavigateTo("/login");
    }

    private void NavigateToRegister()
    {
        NavigationManager.NavigateTo("/register");
    }

    private void NavigateToProfile()
    {
        NavigationManager.NavigateTo("/profile");
    }
}
